<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Choix de région</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons 
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon"> -->

            <!-- Link to import alert personnal -->
            <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.2/dist/sweetalert2.all.min.js"></script>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.2/dist/sweetalert2.min.css">

  <!-- Google Fonts -->
  <link
  href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
  rel="stylesheet">
<style>
* {
  font-family: 'Montserrat-bold', sans-serif;
  /*font-size: 14px !important;*/
}
</style>
  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-database.js"></script>
  <link rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="./sign/logina.css">
  <link rel="stylesheet" href="choix.css">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
</head>

<body>
  <section id="modalID" style="display: none;">
    <div class="wrapper">
        <a href="#demo-modal" id="dreamIndemo" style="opacity: 0;">Open Demo Modal</a>
    </div>         
    <div id="demo-modal" class="modal">
        <div class="modal__content">
            <h3 style="text-align: center;" id="iconid"></h3>
    
            <h3 style="text-align: center;" id="etatalert"></h3>
    
            <div class="modal__footer" id="smsalert" style="font-size: 14px !important;">
              
            </div><br>
            <div class="modal__footer" id="updateform" 
            style="cursor: pointer; background-color: #4169E1; border-radius: 5px; 
             color: white;">
            </div><br>

           <a href="#" class="modal__close" id="modal__close">&times;</a>
        </div>
    </div>
</section>
  <main >
    <!-- ======= Services Section ======= -->
    <section id="services">
      <div class="container" data-aos="fade-up" >
        <div class="section-header" style="margin-bottom: 8vh;">
            <!--<h2 id="icontocommeBAckeH">Choix du pays </h2>
         <p>Sed tamen tempor magna labore dolore dolor sint tempor duis magna elit veniam aliqua esse amet veniam enim export quid quid veniam aliqua eram noster malis nulla duis fugiat culpa esse aute nulla ipsum velit export irure minim illum fore</p>-->
        </div>

        <div class="row gy-4" id="chosepays" style="margin-top: 18vh;">
          <div class="col-lg-4 col-md-4 chosemyregionclass" data-aos="fade-up" data-aos-delay="100" style="cursor: pointer !important;" id="AFRIQUE">
            <div class="box">
              <span class="iconvaliderzone" id="div1"></span>
              <div class="icon"><i class="bi bi-globe-europe-africa"></i></div>
              <h4 class="title"><a >Afrique</a></h4>
              <!----<p class="description">Voluptatum deleniti atque corrupti quos dolores et quas molestia</p>-->
            </div>
          </div>
          <style>
            .iconvaliderzone{
              position: fixed;
              top: 13px;
              right: 12px;
              color: blue;
              margin-right: 12px;
            }
          </style>
          <div class="col-lg-4 col-md-4 chosemyregionclass" data-aos="fade-up" data-aos-delay="200" style="cursor: pointer !important;" id="EUROPE">
            <div class="box">
              <span class="iconvaliderzone" id="div2"></span>
              <div class="icon"><i class="bi bi-globe-central-south-asia"></i></div>
              <h4 class="title"><a >Europe</a></h4>
               <!---- <p class="description">Voluptatum deleniti atque corrupti quos dolores et quas molestia</p>-->
            </div>
          </div>

          <div class="col-lg-4 col-md-4 chosemyregionclass" data-aos="fade-up" data-aos-delay="300" style="cursor: pointer !important;" id="AUTRESPAYSDUMONDE">
            <div class="box">
              <span class="iconvaliderzone" id="div3"></span>
              <div class="icon"><i class="bi bi-globe2"></i></div>
              <h4 class="title"><a >Autres pays du monde</a></h4>
                <!--<p class="description">Voluptatum deleniti atque corrupti quos dolores et quas molestia</p>-->
            </div>
          </div>
        </div>
      </div>
    </section><!-- End Services Section -->
<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";
          const firebaseConfig = {
          apiKey: "AIzaSyCDGjJ1-gLtw0__8Om8OEzbXYNgBPWw1ik",
          authDomain: "illicolove0.firebaseapp.com",
          databaseURL: "https://illicolove0-default-rtdb.firebaseio.com",
          projectId: "illicolove0",
          storageBucket: "illicolove0.appspot.com",
          messagingSenderId: "687063035754",
          appId: "1:687063035754:web:7f03061d8cd5fd0ee9bf13"
    };
            // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        import {
            getDatabase,
            ref,
            set,
            update,
            child,
            onValue,
            remove,
            get,
        } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-database.js";

        import { getStorage, getDownloadURL 
        } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-storage.js"

        const db = getDatabase();
        function getdata() {
        const UserConnectuser = localStorage.getItem("unserconnect");
        var tablecountry = []
        const dbref = ref(db);
        get(child(dbref, "utilisateurs/" + UserConnectuser))
            .then((snapshot) => {
            if (snapshot.exists()) {
              if(snapshot.val().IDREGION){
              // Vérifier si la valeur correspond à l'un des div
              const div1 = document.getElementById('div1');
              const div2 = document.getElementById('div2');
              const div3 = document.getElementById('div3');
              const AFRIQUE1 = document.getElementById('AFRIQUE');
              const EUROP2 = document.getElementById('EUROPE');
              const AUTRESPAYSDUMONDE3 = document.getElementById('AUTRESPAYSDUMONDE');
              var option1 = 'AFRIQUE'
              var option2 = 'EUROPE'
              var option3 = 'AUTRESPAYSDUMONDE'

              if (snapshot.val().IDREGION === option1) {
              div1.innerHTML = `<i class="bi bi-check-circle-fill"></i>`;
              AFRIQUE1.addEventListener('click', function() {
                top.location.href = "./formulaire/formulaire.html";
              });
            } else if (snapshot.val().IDREGION === option2) {
              div2.innerHTML = `<i class="bi bi-check-circle-fill"></i>`;
              EUROP2.addEventListener('click', function() {
                top.location.href = "./formulaire/formulaire.html";
              });
            } else if (snapshot.val().IDREGION === option3) {
              div3.innerHTML = `<i class="bi bi-check-circle-fill"></i>`;
              AUTRESPAYSDUMONDE3.addEventListener('click', function() {
                top.location.href = "./formulaire/formulaire.html";
              });
            }

            // Vérifier la présence de l'icône dans chaque div
            AFRIQUE1.addEventListener('click', function() {
              if (!div1.querySelector('.bi-check-circle-fill')) {
                Swal.fire({
                title: 'Êtes-vous sûr ?',
                text: `Nous constatons que vous avez déjà une publication 
                en cours. En procédant avec cette action, votre ancienne 
                annonce sera modifiée et désactivée. Votre nouvelle annonce 
                sera soumise aux administrateurs d'illicolove pour validation,
                 ce processus prendra jusqu'à 24 heures. Nous vous remercions 
                 pour votre compréhension.`,
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Oui, Changé',
                cancelButtonText: 'Retour'
              }).then((result) => {
                if (result.isConfirmed) {
                var AFRIQUEID = "AFRIQUE"
                localStorage.setItem("myOption", AFRIQUEID)
                top.location.href = "./formulaire/formulaire.html";
                }
              })
            }
              });
              EUROP2.addEventListener('click', function() {
                if (!div2.querySelector('.bi-check-circle-fill')) {
                  Swal.fire({
                title: 'Êtes-vous sûr ?',
                text: `Nous constatons que vous avez déjà une publication 
                en cours. En procédant avec cette action, votre ancienne 
                annonce sera modifiée et désactivée. Votre nouvelle annonce 
                sera soumise aux administrateurs d'illicolove pour validation,
                 ce processus prendra jusqu'à 24 heures. Nous vous remercions 
                 pour votre compréhension.`,
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                cancelButtonText: 'Retour',
                confirmButtonText: 'Oui, Changé'
              }).then((result) => {
                if (result.isConfirmed) {
                var EUROPEID = "EUROPE"
                localStorage.setItem("myOption", EUROPEID)
                top.location.href = "./formulaire/formulaire.html";
                }
              })
            }
              });
              AUTRESPAYSDUMONDE3.addEventListener('click', function() {
                if (!div3.querySelector('.bi-check-circle-fill')) {
                Swal.fire({
                title: 'Êtes-vous sûr ?',
                text: `Nous constatons que vous avez déjà une publication 
                en cours. En procédant avec cette action, votre ancienne 
                annonce sera modifiée et désactivée. Votre nouvelle annonce 
                sera soumise aux administrateurs d'illicolove pour validation,
                 ce processus prendra jusqu'à 24 heures. Nous vous remercions 
                 pour votre compréhension.`,
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Oui, Changé',
                cancelButtonText: 'Retour',
              }).then((result) => {
                if (result.isConfirmed) {
                var AUTRESPAYSDUMONDEID = "AUTRESPAYSDUMONDE"
                localStorage.setItem("myOption", AUTRESPAYSDUMONDEID)
                top.location.href = "./formulaire/formulaire.html";
                }
              })
              }
              });
           

              }
             


            } else {
              //  alert("no data");
            }
            })
            .catch((error) => {
            alert("il y a une ERROR " + error);
        });
    }

      window.onload = getdata;

     function reflechethepagex(){
      // Recharger la page entière en ignorant le cache
      window.location.href =  "index.html"

     }
     document.getElementById('icontocommeBAcke').addEventListener('click', function(){
      // Recharger la page entière en ignorant le cache
      window.location.href =  "index.html"
     })
</script>
  </main><!-- End #main -->
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>