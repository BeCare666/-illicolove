<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <title id="IDTRANSLATE18USER"></title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon"> -->
    <link href="assets/img/logoilli.jpeg" rel="icon">
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap"
      rel="stylesheet">
  <!-- Link to import alert personnal -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.2/dist/sweetalert2.all.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.1.2/dist/sweetalert2.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <style>
    * {
      font-family: 'Montserrat-bold', sans-serif;
      font-size: 14px !important;
    }
  </style>
    <!-- Vendor CSS Files -->
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
      rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
    <script src="https://unpkg.com/jquery"></script>
    <script src="https://unpkg.com/i18next/dist/umd/i18next.min.js"></script>
    <!-- Template Main CSS File -->
    <link href="assets/css/stylea.css" rel="stylesheet">
    <link rel="stylesheet" href="userdetail.css">
    <script>
      window.onload = function(){
        if (/Mobi|Android/i.test(navigator.userAgent)) {
      // Code pour appareil mobile
      //document.body.style.fontSize = "16px"; // Modifier la taille de la police pour appareils mobiles
      document.getElementById('contactUserbtnIDB').style.position = "relative" 
      document.getElementById('contactUserbtnIDB').style.top = "0"
      document.getElementById('contactUserbtnIDB').style.left = "10vh"
      
      } else {
          // Code pour ordinateur de bureau
      }
     }
    </script>
      <!-- Google tag (gtag.js) -->
  <script async
  src="https://www.googletagmanager.com/gtag/js?id=G-H3FMR8VLEC">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-H3FMR8VLEC');
  </script>
  </head>

  <body>
  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top" style="background-color: white;">

    <div class="container-fluid container-xl d-flex align-items-center justify-content-between">

      <a href="./u/index.html" class="logo d-flex align-items-center">
        <!-- <img src="assets/img/logo.png" alt="">-->
        <button class="btn btn" style="margin-left: 5px; cursor: pointer; background-color: #FFB6C1; color: white;" 
        role="button" id="comeBackId"><i class="bi bi-arrow-90deg-left"></i></button>
      </a>

      <nav id="navbar" class="navbar" style="cursor: pointer;">
       <a href="index.html"> <i class="bi bi-house-door" style="font-size: 26px !important; color: #FFB6C1;"></i></a>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->
    <main id="main">
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <div class="box box--list">
 
        <div class="box--list__item" style=" border-radius: 10px; box-shadow: 1px 2px 6px #f38e9d; height: 10vh !important; width: 100% !important; padding-top: 20px !important; padding-left: 10px !important;"> 
          <h1 class="box--list__header-title" id="IDTRANSLATEUSERD3" style="color: #f38e9d; font-size: 20px !important;"></h1>
        </div><br><br><br>
        <button class="custom-btn btn-3" data-toggle="modal" data-target="#exampleModalCentermo"><span>
          <a class="box--list__header-link" id="IDTRANSLATEUSERD1"  style="color: #FFB6C1;">     
          </a> </span></button>
        <div class="box--list__items">      
          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD5"></h2>
            <p class="box--list__description" id="thmaville"></p>
          </div>
          
          <div class="box--list__item">       
            <h2 class="box--list__title" id="IDTRANSLATEUSERD6"></h2>
            <div class="box--list__description" id="monpseudonyme"></div>
          </div>
          
          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD7"> </h2>
            <div class="box--list__description" id="monages"> </div>
          </div>
          
          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD8"> </h2>
            <div class="box--list__description" id="myGenre"> </div>
          </div>
          
          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD9"> </h2>
            <div class="box--list__description" id="masituamatri"> </div>
          </div>
           
          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD10"> </h2>
            <div class="box--list__description" id="manationalite"> </div>
          </div>
        
          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD11"> </h2>
            <div class="box--list__description" id="montravail"> </div>
          </div>
          
          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD12"> </h2>
            <div class="box--list__description" id="unerencontreId"> </div>
          </div>

          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD13"> </h2>
            <div class="box--list__description" id="suiteId"> </div>
          </div>

          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD14"> </h2>
            <div class="box--list__description" id="myprefenceId"> </div>
          </div>

          <div class="box--list__item" style=" border-radius: 10px; box-shadow: 1px 2px 6px #f38e9d; height: 10vh !important; width: 100% !important; padding-top: 20px !important; padding-left: 10px !important;"> 
            <h2 class="box--list__title" id="IDTRANSLATEUSERD15" style="color: #f38e9d; font-size: 20px !important;"> </h2>   
          </div>

          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD17"> </h2>
            <div class="box--list__description" id="qsongenre"> </div>
          </div>

          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD18"> </h2>
            <div class="box--list__description" id="satranche"> </div>
          </div>

          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD19"> </h2>
            <div class="box--list__description" id="sasituationMa"> </div>
          </div>

          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD20"> </h2>
            <div class="box--list__description" id="sonpays"> </div>
          </div>

          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD21"> </h2>
            <div class="box--list__description" id="saville"> </div>
          </div>

          <div class="box--list__item">
            <h2 class="box--list__title" id="IDTRANSLATEUSERD22"> </h2>
            <div class="box--list__description" id="sontravail"> </div>
          </div>
 
        </div>
      </div>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
      <span style="opacity: 0 !important;">kfdjjfdkdkfdkfldkfkdlfdfdd</span>
    </main><!-- End #main -->
 </section>

 

<!-- Modal -->
<div class="modal fade" id="exampleModalCentermo" style="background-color: #FFB6C1;" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
       
      <div class="modal-body">
        <div class="col-lg-12" id="mycoodonnees" style=" border: #FFB6C1 solid 1px;">
          <div class="portfolio-info" style="height: 35vh !important;"  
          >
            <h2><strong ></strong></h2>
            
            <ul class="list-group mt-4"  >
              <li class="list-group-item" >
                <div class="d-flex align-items-center" style="display: none !important;">
                  <div id="iconiconIdx">

                  </div>
                  <div>
                    <h5 class="mb-1" id="ConnexionMyID" ></h5>
                  </div>
                </div>
                <div class="d-flex align-items-center mt-3">
                  <div id="iconiconId">

                  </div>
                  <div>
                    <h5 class="mb-1" id="fullname"></h5>
                  </div>
                </div>
                <div class="d-flex align-items-center mt-3">
                  <i class="bi bi-geo-alt-fill me-2 text-info"></i>
                  <p class="mb-0" id="residenceId"></p>
                </div>
                <div class="d-flex align-items-center mt-3">
                  <i class="bi bi-person-workspace me-2 text-success"></i>
                  <p class="mb-0" id="occupation"></p>
                </div>
                <div id="contactUserID" style="display: none;">
                <div class="d-flex align-items-center mt-3">
                  <i class="bi bi-telephone-fill me-2 text-success"></i>
                  <p class="mb-0" id="phone"></p>
                </div>
                <div class="d-flex align-items-center mt-3">
                  <i class="bi bi-whatsapp me-2 text-success"></i>
                  <p class="mb-0" id="whatsapp"></p>
                </div>
                <div class="d-flex align-items-center mt-3">
                  <i class="bi bi-envelope-at-fill me-2 text-primary"></i>
                  <p class="mb-0" id="myEmail"></p>
                </div>
                </div>
  
              </li>
              <!-- Ajoutez d'autres éléments de liste ici -->
            </ul><br>
            <div class="text-center text-lg-start align-items-center" id="contactUserbtnID">
                <button href="#about" class="btn-3 btn btn scrollto d-inline-flex align-items-center justify-content-center align-self-center"
                style="background-color: #FFB6C1; color: white;" id="contactUserbtnIDB">
                  <span id="IDTRANSLATEUSERD2"></span> &nbsp;&nbsp;
                  <i class="bi bi-arrow-right"></i>&nbsp;&nbsp;&nbsp;&nbsp;
                </button>
              </div>
          </div>
          <button type="button" class="btn btn-secondary" data-dismiss="modal" id="TOCLOSEMODALID"></button><br>
          <span style="opacity: 0;">sdfghjkl</span>
        </div>
      </div>
       
    </div>
  </div>
</div>
<footer id="footer" class="footer" style="margin-bottom: 0 !important;">
  <div class="container">
    <div class="copyright" style="color: #000080;">
      &copy; Copyright 2024 illicolove. All Rights Reserved
    </div>
    <div class="credits" style="color: #000080;">
      Designed by illicolove
    </div>
  </div>
</footer><!-- End Footer -->
<a href="#" class="back-to-top d-flex align-items-center
  justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

    <div id="preloader"></div>
 
    <script type="module">
        const firebaseConfig = {
              apiKey: "AIzaSyCDGjJ1-gLtw0__8Om8OEzbXYNgBPWw1ik",
              authDomain: "illicolove0.firebaseapp.com",
              databaseURL: "https://illicolove0-default-rtdb.firebaseio.com",
              projectId: "illicolove0",
              storageBucket: "illicolove0.appspot.com",
              messagingSenderId: "687063035754",
              appId: "1:687063035754:web:7f03061d8cd5fd0ee9bf13"
        };
        firebase.initializeApp(firebaseConfig);

       const database = firebase.database();          
        //--------------Select data-----------------//
        var Thmaville = document.getElementById('thmaville');
        var Monpseudonyme = document.getElementById('monpseudonyme');
        var Monages = document.getElementById('monages');
        var MyGenre = document.getElementById('myGenre');
        var Masituamatri = document.getElementById('masituamatri');
        var Manationalite = document.getElementById('manationalite');
        var Montravail = document.getElementById('montravail');
        var UnerencontreId = document.getElementById('unerencontreId');
        var Qsongenre = document.getElementById('qsongenre');
        var Satranche = document.getElementById('satranche');
        var SasituationMa = document.getElementById('sasituationMa');
        var Sonpays = document.getElementById('sonpays');
        var Saville = document.getElementById('saville');
        var Sontravail = document.getElementById('sontravail');
        var connexionMyID = document.getElementById('ConnexionMyID'); 
        var IconiconId = document.getElementById('iconiconId'); 
        var IconiconIdx = document.getElementById('iconiconIdx');
        function seleectData() {
          const UserConnectIdToBuy = localStorage.getItem("storageNamey");
          // const unserconnectID = localStorage.getItem("unserconnect");
          var selectedLanguage = localStorage.getItem('selectedLanguage');
          //alert(UserConnectIdToBuy)
          var tableTotakeUser = []

            firebase.auth().onAuthStateChanged(function(user) { 
            if(user){
              trackVisiteOneuser()
            var userId = user.uid;
            const userRef = database.ref(`/utilisateurs/${UserConnectIdToBuy}`);
            userRef.once("value").then((snapshot) => {
                if (snapshot.exists()) {
                document.getElementById('preloader').style.display = "none"
                var photoDataUrl1 = 'data:image/png;base64,' + snapshot.val().PIECESDIDENTITE;
                var photoDataUrl2 = 'data:image/png;base64,' + snapshot.val().MESDEUXPHOTO2;
                //conditon ternaire to genre
                var status = snapshot.val().MONSEXE
                
                //var img1Id = document.getElementById('img1Id');
               // img1Id.src = photoDataUrl1
                //var img2Id = document.getElementById('img2Id');
                //img2Id.src = photoDataUrl2
                tableTotakeUser.push(snapshot.val().fullname)
                document.getElementById('fullname').innerHTML = `${snapshot.val().username}`
                document.getElementById('phone').innerHTML = `<a href="mailto:${snapshot.val().TELEPHONE}">${snapshot.val().TELEPHONE}</a>`
                document.getElementById('whatsapp').innerHTML = `<a href="https://wa.me/${snapshot.val().TELEPHONE}?text=Hi ${snapshot.val().fullname},%20how%20are%20you%20doing%20?%20You%20are%20${snapshot.val().MONTRAVAILLEOUOCCUPATION}%20and%20I'm%20really%20interested%20in%20your%20profile%20that%20I%20saw%20on%20the%20illicolove%20dating%20site.%20I%20would%20like%20to%20know%20more%20about%20you%20and%20explore%20the%20possibilities%20of%20a%20meaningful%20connection.%20Could%20you%20please%20visit%20my%20profile%20too%3F%20${encodeURIComponent('https://illicolove.com/userdetails&.html?id=' + `${userId}`)}">${snapshot.val().TELEPHONE}</a></a>`
                document.getElementById('myEmail').innerHTML = `<a href="mailto:${snapshot.val().email}">${snapshot.val().email}</a>`
                document.getElementById('residenceId').innerHTML = `${snapshot.val().MAVILLEDERESIDENCE}`
                document.getElementById('occupation').innerHTML = `${snapshot.val().MONTRAVAILLEOUOCCUPATION}`
                var suiteIdCondi = `${snapshot.val().PHYSIQUEDEPROFILQUEJECHERCHE}` ? `${snapshot.val().PHYSIQUEDEPROFILQUEJECHERCHE} ` : `<p id="IDTRANSLATEUSERD24YX"></p>`;
                document.getElementById('suiteId').innerHTML = `${suiteIdCondi}`
                Thmaville.innerHTML = `${snapshot.val().MAVILLEDERESIDENCE}`
                Monpseudonyme.innerHTML = `${snapshot.val().username}`
                Monages.innerHTML = `${snapshot.val().MONAGE}`
                MyGenre.innerHTML = `${snapshot.val().MONSEXE}`
                Masituamatri.innerHTML = `${snapshot.val().MASITUATIONMATRIMONIALE}`
                Manationalite.innerHTML = `${snapshot.val().MANATIONNALITE}`
                Montravail.innerHTML = `${snapshot.val().MONTRAVAILLEOUOCCUPATION}`
                UnerencontreId.innerHTML = `${snapshot.val().JEVEUXUNERENCONTRE}`
                Qsongenre.innerHTML = `${snapshot.val().SEXEDEPROFILQUEJECHERCHE}`
                Satranche.innerHTML = `${snapshot.val().SONAGEDEPROFILQUEJECHERCHE}`
                SasituationMa.innerHTML = `${snapshot.val().SITUATIONMATRIMONIALEDEPROFILQUEJECHERCHE}`
                Sonpays.innerHTML = `${snapshot.val().PAYSDERESIDENCEDEPROFILQUEJECHERCHE}`
                Saville.innerHTML = `${snapshot.val().VILLEDHABITATIONDEPROFILQUEJECHERCHE}`
                Sontravail.innerHTML = `${snapshot.val().TRAVAILDEDEPROFILQUEJECHERCHE}`
                document.getElementById('myprefenceId').innerHTML = `${snapshot.val().AUTRESPRECISIONSDEPROFILQUEJECHERCHE}` ? `${snapshot.val().AUTRESPRECISIONSDEPROFILQUEJECHERCHE}` : `<p id="IDTRANSLATEUSERD24"></p>`;
                // to now if the user is connect or no
                var muvar = selectedLanguage;
                var content;
                content = snapshot.val().ONLINEDATE === snapshot.val().ONLINEHOURS
                ? `<div class="status-indicator" style="display: inline-block; width: 10px; height: 10px; border-radius: 50%; background-color: green;"></div> <p id="texteIDTRANSLATEUSERD24YX"></p>`
                : `<span style="display: flex;"> <p id="TIDTRANSLATEUSERD23"></p>${snapshot.val().ONLINEDATE}&nbsp; : ${snapshot.val().ONLINEHOURS} `;
                var Traduitprofil14XW = i18next.t("TIDTRANSLATEUSERD23");
                $('[id="TIDTRANSLATEUSERD23"]').text(Traduitprofil14XW);

                var Traduitprofil14XWX = i18next.t("texteIDTRANSLATEUSERD24YX");
                $('[id="texteIDTRANSLATEUSERD24YX"]').text(Traduitprofil14XWX);


                connexionMyID.innerHTML = content
                
                // Sexe cl
                const contentwx = snapshot.val().MONSEXE === "Homme" || 
                snapshot.val().MONSEXE === "Hombre" || 
                snapshot.val().MONSEXE === "Man" || 
                snapshot.val().MONSEXE ==="남자" || 
                snapshot.val().MONSEXE ==="Uomo" || 
                snapshot.val().MONSEXE ==="男" || 
                snapshot.val().MONSEXE ==="男人" || 
                snapshot.val().MONSEXE ==="Мужчина" || 
                snapshot.val().MONSEXE ==="Homem" || 
                snapshot.val().MONSEXE ==="Mann" ||
                snapshot.val().MONSEXE === "رجل"
                ? `<i class="bi bi-gender-male" style="color:#000080;"></i>`   
                : `<i class="bi bi-gender-female" style="color:#FFB6C1;"></i>`;
                IconiconId.innerHTML = contentwx

                IconiconIdx.innerHTML = contentwx

                
                var texteIDTRANSLATEUSERD24 = i18next.t("IDTRANSLATEUSERD24");
                $('[id="IDTRANSLATEUSERD24"]').html(texteIDTRANSLATEUSERD24);

                var texteIDTRANSLATEUSERD24YX = i18next.t("IDTRANSLATEUSERD24");
                $('[id="IDTRANSLATEUSERD24YX"]').html(texteIDTRANSLATEUSERD24YX); 

                var texteIDTRANSLATEUSERD24YX = i18next.t("IDTRANSLATEUSERD23VG");
                $('[id="IDTRANSLATEUSERD23VG"]').html(texteIDTRANSLATEUSERD24YX);  
              } else {
                Swal.showValidationMessage(i18next.t('IDTRANSLATEUSERD25'));
                  //alert("no data");
              }
          })
          .catch((error) => {
            Swal.showValidationMessage(i18next.t('IDTRANSLATEUSERD26'));
              //alert("il y a une ERROR " + error);
          });
          const userRefxs = database.ref(`/utilisateurs/${userId}`);
          userRefxs.once("value").then((snapshot) => {
              if (snapshot.exists()) { 
                
                if(snapshot.val().VALIDERMONCOMPTE == false) {
                  var ContactUserbtnID = document.getElementById('contactUserbtnID');
                  var Main = document.getElementById('main');
                  var Footer = document.getElementById('footer');
                  var header = document.getElementById('header');
                  var ContactUserID = document.getElementById('contactUserID');
                  ContactUserbtnID.style.opacity = "0.5"
                  ContactUserbtnID.addEventListener('click', function(){
                    header.style.display = "none"
                    Main.style.display = "none"
                     Footer.style.display = "none"
                    Swal.fire({
                    icon: 'info',
                    allowOutsideClick: false,
                    text: i18next.t('IDTRANSLATEUSERD29NOTVALIDATE'),
                    confirmButtonText: i18next.t('IDTRANSLATEUSERD33'),
                    }).then((result) => {
                    if (result.isConfirmed) {
                    header.style.display = "block"
                    Footer.style.display = "block"
                    Main.style.display = "block"
                    }
                    })
                  })
                
                }

                if(snapshot.val().COMPTECREDIT != 0 && snapshot.val().VALIDERMONCOMPTE){
                  var ContactUserbtnID = document.getElementById('contactUserbtnID');
                  var ContactUserID = document.getElementById('contactUserID');
                  ContactUserbtnID.addEventListener('click', function(){
                    ContactUserbtnID.style.display = "none"
                    ContactUserID.style.display = "block"
                    //function to update compte
                  var myCompta = snapshot.val().COMPTECREDIT
                  var debit = 1
                  var moncomptvalide = myCompta - debit

                  const newData = {
                          COMPTECREDIT:moncomptvalide
                  };
                  userRefxs.update(newData, (error) => {
                    if (error){
                      Swal.showValidationMessage(i18next.t('IDTRANSLATEUSERD28'));
                    }else{
                      Swal.fire({
                        position: 'top-end',
                        icon: 'success',
                        title: i18next.t('IDTRANSLATEUSERD27'),
                        showConfirmButton: false,
                        timer: 2500
                      })
                    }
                  })
                      })
                }else{
                  if(!snapshot.val().IDREGION) {
                  var ContactUserbtnID = document.getElementById('contactUserbtnID');
                  var Main = document.getElementById('main');
                  var Footer = document.getElementById('footer');
                  var header = document.getElementById('header');
                  var ContactUserID = document.getElementById('contactUserID');
                  ContactUserbtnID.style.opacity = "0.5"
                  ContactUserbtnID.addEventListener('click', function(){
                    header.style.display = "none"
                    Main.style.display = "none"
                     Footer.style.display = "none"
                    Swal.fire({
                    icon: 'error',
                    allowOutsideClick: false,
                    title: 'Oops...',
                    text: i18next.t('IDTRANSLATEUSERD29'),
                    confirmButtonText: i18next.t('IDTRANSLATEUSERD33'),
                    footer: '<a href="./v/profil.html" id="IDTRANSLATEUSERD30">' + i18next.t('IDTRANSLATEUSERD30') + '</a>' 
                    }).then((result) => {
                    if (result.isConfirmed) {
                    header.style.display = "block"
                    Footer.style.display = "block"
                    Main.style.display = "block"
                    }
                    })
                  })
                
                }
                  if(snapshot.val().COMPTECREDIT ===0){
                  var ContactUserbtnID = document.getElementById('contactUserbtnID');
                  var Main = document.getElementById('main');
                  var Footer = document.getElementById('footer');
                  var header = document.getElementById('header');
                  var ContactUserID = document.getElementById('contactUserID');
                  ContactUserbtnID.style.opacity = "0.5"
                  ContactUserbtnID.addEventListener('click', function(){
                  header.style.display = "none"
                  Main.style.display = "none"
                  Footer.style.display = "none"
                  Swal.fire({
                  icon: 'error',
                  allowOutsideClick: false,
                  title: 'Oops...',
                  text: i18next.t('IDTRANSLATEUSERD31'),
                  confirmButtonText: i18next.t('IDTRANSLATEUSERD33'),
                  footer: '<a href="./v/profil.html" id="IDTRANSLATEUSERD32">' + i18next.t('IDTRANSLATEUSERD32') + '</a>'
                  }).then((result) => {
                  if (result.isConfirmed) {
                  header.style.display = "block"
                  Main.style.display = "block"
                  Footer.style.display = "block"
                  }
                  })
                  })
                  }
                }

                let inactiveTimeoutId;
          // Fonction appelée lorsque l'utilisateur est actif sur la page
          function handleUserActive() {
            const newDataCwq = {
              USERCONNECT : true,
              ONLINEDATE : "en ligne",
              ONLINEHOURS : "en ligne",
              };
              userRef.update(newDataCwq, (error) => {
                if (error){
                  //console.error("Erreur :", error);
                }else{
                  // console.log("O")
                }
              })
          clearTimeout(inactiveTimeoutId); // Réinitialiser le délai
          
          //console.log("L'utilisateur est actif sur la page");
          // Vous pouvez exécuter d'autres actions ou déclencher des événements ici
          }

          // Fonction appelée lorsque l'utilisateur quitte la page
          function handleUserInactive() {
          inactiveTimeoutId = setTimeout(function() {
          // Créez une nouvelle instance de l'objet Date
          const currentDate = new Date();
          // Obtenez les différentes composantes de la date
          const year = currentDate.getFullYear(); // Année (ex: 2023)
          const month = currentDate.getMonth() + 1; // Mois (de 0 à 11, donc on ajoute 1)
          const day = currentDate.getDate(); // Jour du mois (de 1 à 31)
          const hours = currentDate.getHours().toString().padStart(2, '0'); // Heures (de 00 à 23)
          const minutes = currentDate.getMinutes(); // Minutes (de 0 à 59)
          //const seconds = currentDate.getSeconds(); // Secondes (de 0 à 59)
          var theOnlineDate = `${day}/${month}/${year}`
          var theOnlinehours = `${hours}h:${minutes}min`
          const newDataCwqx = {
            USERCONNECT : false,
            ONLINEDATE : theOnlineDate,
            ONLINEHOURS : theOnlinehours,
            };

            userRef.update(newDataCwqx, (error) => {
              if (error){
                //console.error("Erreur :", error);
              }else{
              //   console.log("N")
              }
            })
            // console.log("L'utilisateur a quitté la page");
              // Mettre à jour le statut ou effectuer d'autres actions ici
            }, 60000); // Délai de 60 secondes avant de mettre à jour le statut
          }

          // Appeler la fonction handleUserActive dès le chargement de la page
          handleUserActive();

          // Ajouter un écouteur d'événement pour détecter lorsque l'utilisateur interagit avec la page
          document.addEventListener("visibilitychange", function() {
            if (document.visibilityState !== "visible") {
              handleUserInactive();
            } else {
              handleUserActive();
            }
          }); 
          // end function to userconnect
          
              }  
            }).catch((error)=>{

            });
            
          }else if(user == null){
          window.location.href = "./v/login/login.html"
          }
            
          })
    }
    window.onload = seleectData;
  </script>
    <!-- Vendor JS Files -->
    <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="assets/vendor/aos/aos.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-auth.js"></script>
    <script src="./v/userConnect.js"></script>
       <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    <!-- Template Main JS File -->
    <script src="assets/js/main.js"></script>
    <script src="translate.js"></script>
    <script src="t-analytics.js"></script>

  </body>

</html>